@startuml
left to right direction

' Actors
actor "Nutzer:in" as user
actor "Server" as server
actor "Logging" as log

' System boundary
rectangle "Lost & Found System" {

  ' Core use cases
  usecase "Verlustmeldung erstellen" as UC_Lost
  usecase "Fundmeldung erstellen" as UC_Found
  usecase "Informationen eingeben\n(Titel, Beschreibung, Raum, Kategorie, Bild)" as UC_Info
  usecase "Eingaben validieren (serverseitig)" as UC_Validate
  usecase "Fehlerhafte Eingaben anzeigen" as UC_ShowErrors

  usecase "Eingabe auf Duplikate prüfen" as UC_DupCheck
  usecase "Mögliche Duplikate anzeigen" as UC_ShowDup
  usecase "Anzeige veröffentlichen" as UC_Publish
  usecase "Anzeige verwerfen" as UC_Discard

  usecase "Eintrag als abgeholt markieren" as UC_Pickup
  usecase "Eintrag löschen" as UC_Delete
  usecase "Einträge durchsuchen" as UC_Search

}

' User flows
user --> UC_Lost
user --> UC_Found

UC_Lost --> UC_Info
UC_Found --> UC_Info

UC_Info --> UC_Validate

' Validation results
UC_Validate --> UC_ShowErrors : ungültige Eingabe
UC_Validate --> UC_DupCheck : gültige Eingabe

' Duplicate logic
UC_DupCheck --> UC_Publish : keine Duplikate gefunden
UC_DupCheck --> UC_ShowDup : mögliche Duplikate gefunden

UC_ShowDup --> UC_Discard : Anzeige verwerfen
UC_ShowDup --> UC_Publish : Force Publish

' Pickup flow
user --> UC_Pickup
UC_Pickup --> UC_Delete
UC_Delete --> log : Löschvorgang protokollieren

' Search
user --> UC_Search

' Server automated cleanup
server --> UC_Delete : wenn älter als 14 Tage
@enduml